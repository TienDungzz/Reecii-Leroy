{% liquid
  assign product_resource = product
  if request.visual_preview_mode and product_resource == blank
    assign product_resource = collections.all.products.first
  endif

  assign product_form_id = 'product-form-' | append: section.id

  assign color_scheme = block.settings.color_scheme

  assign content_gap = block.settings.content_gap | append: 'px'
  assign action_gap = block.settings.action_gap | append: 'px'
  assign type_preset = block.settings.type_preset

  assign pl = block.settings.padding_left
  assign pr = block.settings.padding_right
  assign pt = block.settings.padding_top
  assign pb = block.settings.padding_bottom

  assign variant_alignment = block.settings.variant_alignment
  assign style_class = block.settings.style_class
  assign sticky_width = block.settings.sticky_width
  assign sticky_pos_bottom = block.settings.sticky_pos_bottom
  assign shadow_horizontal_offset = block.settings.shadow_horizontal_offset
  assign shadow_vertical_offset = block.settings.shadow_vertical_offset
  assign shadow_blur = block.settings.shadow_blur
  assign shadow_spread_radius = block.settings.shadow_spread_radius
  assign shadow_color = block.settings.shadow_color

  assign button_type = block.settings.button_type
  assign icon = block.settings.icon
  assign icon_custom = block.settings.icon_custom
  assign svg_upload = block.settings.svg_upload
  assign image_upload = block.settings.image_upload
  assign width = block.settings.width
  assign icon_block_class = 'icon-block__media icon-block_' | append: icon | append: ' icon-block-' | append: block.id
-%}

{%- capture sticky_attr -%}
style="
  --sticky-width: {{ sticky_width }}%; 
  --sticky-pos-bottom: {{ sticky_pos_bottom }}px; 
  --shadow-horizontal-offset: {{ shadow_horizontal_offset }}px; 
  --shadow-vertical-offset: {{ shadow_vertical_offset }}px; 
  --shadow-blur: {{ shadow_blur }}px; 
  --shadow-spread-radius: {{ shadow_spread_radius }}px; 
  --shadow-color: {{ shadow_color }};
  {% if block.settings.inherit_color_scheme == false %}
    {% render 'color-scheme-style', settings: block.settings %}
  {% endif %}
"
{%- endcapture -%}

{%- capture attr -%}
style="
{% if pl != 0 %}--pl:{{ pl }}px;{% endif %}
{% if pt != 0 %}--pt:{{ pt }}px;{% endif %}
{% if pb != 0 %}--pb:{{ pb }}px;{% endif %}
{% if pr != 0 %}--pr:{{ pr }}px;{% endif %}
"
{%- endcapture -%}

<sticky-atc class="sticky-atc w-full fixed bottom-0 left-0 right-0 z-10 flex justify-between items-center shadow-style style-{{ style_class }}{% if block.settings.inherit_color_scheme == false %} color-scheme-custom{% endif %}" {{ sticky_attr }} product-form="{{ product_form_id }}" form="{{ product_form_id }}">
    {%- unless product.has_only_default_variant -%}
      <div div class="sticky-atc__variant">
        <div class="section section--page-width variant-alignment--{{ variant_alignment }}" {{ attr }}>
          <div class="large-up-hide medium-hide">
            <div class="sticky-atc__info">
              <div class="sticky-atc__title">
                  <h5 class="{{ type_preset }}">{{ product.title | escape }}</h5>
              </div>
              <div class="sticky-atc__price">
                  {%- render 'price', product: product, use_variant: true, show_badges: false, price_class: 'price--large'-%}
              </div>
            </div>
          </div>
          {% render 'variant-main-picker', product_resource: product_resource %}
        </div>
      </div>
      {%- endunless -%}
{% comment %} get variant length  {% endcomment %}
    <div class="section section--page-width">
      <div class="flex justify-between align-center" {{ attr }}>
        <div class="sticky-atc__content w-full flex items-center small-hide" style="--gap: {{ content_gap }};">
            <div class="sticky-atc__media">
                {{- product.featured_media | image_url: width: 64 | image_tag: height: '64', sizes: '64px', widths: '64', loading: 'lazy', class: 'w-full h-auto object-cover' -}}
            </div>
            <div class="sticky-atc__info">
                <div class="sticky-atc__title">
                    <h5 class="{{ type_preset }}">{{ product.title | escape }}</h5>
                </div>
                <div class="sticky-atc__price">
                    {%- render 'price', product: product, use_variant: true, show_badges: false, price_class: 'price--large'-%}
                </div>
            </div>
        </div>
        <div class="sticky-atc__action flex items-center" style="--gap: {{ action_gap }};">
            {%- liquid
                assign check_against_inventory = true
                if product.selected_or_first_available_variant.inventory_management != 'shopify' or product.selected_or_first_available_variant.inventory_policy == 'continue'
                assign check_against_inventory = false
                endif
                if product.selected_or_first_available_variant.quantity_rule.min > product.selected_or_first_available_variant.inventory_quantity and check_against_inventory
                assign quantity_rule_soldout = true
                endif

                assign variant_length = product.variants | size
            -%}
            <div id="StickyCart-Quantity-Form-{{ section.id }}" class="sticky-cart__quantity product-form__quantity small-hide{% if product.selected_or_first_available_variant.available == false or quantity_rule_soldout %} disabled{% endif %}">
                {%- comment -%} TODO: enable theme-check once `item_count_for_variant` is accepted as valid filter {%- endcomment -%}
                {%- # theme-check-disable -%}
                {%- assign cart_qty = cart | item_count_for_variant: product.selected_or_first_available_variant.id -%}
                {%- # theme-check-enable -%}
                <quantity-input class="quantity" data-url="{{ product.url }}" data-section="{{ section.id }}">
                <button class="quantity__button no-js-hidden pos-relative" name="minus" type="button">
                    <span class="visually-hidden">{{- 'products.product.quantity.decrease' | t: product: product.title | escape -}}</span>
                    <span class="svg-wrapper icon-minus">
                      {{- 'icon-minus.svg' | inline_asset_content -}}
                    </span>
                </button>
                    <input class="quantity__input" type="number" name="quantity" id="Quantity-{{ section.id }}" data-cart-quantity="{{ cart_qty }}" data-min="{{ product.selected_or_first_available_variant.quantity_rule.min }}" min="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                        {% if product.selected_or_first_available_variant.quantity_rule.max != null %}
                        data-max="{{ product.selected_or_first_available_variant.quantity_rule.max }}" max="{{ product.selected_or_first_available_variant.quantity_rule.max }}"
                        {% endif %}
                        step="{{ product.selected_or_first_available_variant.quantity_rule.increment }}" value="{{ product.selected_or_first_available_variant.quantity_rule.min }}" form="{{ product_form_id }}"/>
                <button class="quantity__button no-js-hidden pos-relative" name="plus" type="button">
                    <span class="visually-hidden">{{- 'products.product.quantity.increase' | t: product: product.title | escape -}}</span>
                    <span class="svg-wrapper icon-plus">
                      {{- 'icon-plus.svg' | inline_asset_content -}}
                    </span>
                </button>
                </quantity-input>
            </div>
            {%- assign product_form_sticky_id = 'product-form-sticky-' | append: section.id -%}
            <div class="sticky-cart__button w-full" id="{{ product_form_sticky_id }}">
                {%- liquid
                assign check_against_inventory = true
                if product.selected_or_first_available_variant.inventory_management != 'shopify' or product.selected_or_first_available_variant.inventory_policy == 'continue'
                    assign check_against_inventory = false
                endif
                if product.selected_or_first_available_variant.quantity_rule.min > product.selected_or_first_available_variant.inventory_quantity and check_against_inventory
                    assign quantity_rule_soldout = true
                endif
                if product.selected_or_first_available_variant.inventory_quantity <= 0 and product.selected_or_first_available_variant.inventory_policy == 'continue'
                    assign check_pre_order = true
                endif
                -%}
                <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}" disabled class="product-variant-id">
                <button
                id="StickyCart-ProductSubmitButton-{{ section.id }}" type="submit" name="add"
                class="product-form__submit button button--full-width button--tertiary{% if variant_length > 1 %} button-toggle-variants{% endif %} {% if product.selected_or_first_available_variant.available == false or quantity_rule_soldout %} sold-out--button{% endif %}"
                form="{{ product_form_id }}"
                {% if product.selected_or_first_available_variant.available == false or quantity_rule_soldout %}disabled{% endif %}
                data-inventory-quantity="{{ product.selected_or_first_available_variant.inventory_quantity }}"
                >
                <span class="add-to-cart-text whitespace-nowrap">
                  {%- if product.selected_or_first_available_variant.available == false or quantity_rule_soldout -%}
                    {{ 'products.product.sold_out' | t }}
                  {%- else -%}
                  {% if check_pre_order %}
                      {{ 'products.product.pre_order' | t }}
                  {% else %}
                    {% if variant_length > 1 %}
                      {% if button_type == 'text' %}
                        <span class="add-to-cart-text--add">
                          {{ 'products.product.add_to_cart' | t }}
                        </span>
                        <span class="add-to-cart-text--choose-options">
                        {{ 'products.product.choose_options' | t }}
                        </span>
                      {% else %}
                        {% render 'icon-or-image',
                          icon: icon,
                          icon_custom: icon_custom,
                          svg_upload: svg_upload,
                          image_upload: image_upload,
                          width: width,
                          class_name: icon_block_class,
                          attributes: block.shopify_attributes
                        %}
                      {% endif %}
                    {% else %}
                      {% if button_type == 'text' %}
                        {{ 'products.product.add_to_cart' | t }}
                      {% else %}
                        {% render 'icon-or-image',
                          icon: icon,
                          icon_custom: icon_custom,
                          svg_upload: svg_upload,
                          image_upload: image_upload,
                          width: width,
                          class_name: icon_block_class,
                          attributes: block.shopify_attributes
                        %}
                      {% endif %}
                    {% endif %}
                  {% endif %}
                  {%- endif -%}
                </span>
                <span class="loading-overlay__spinner hidden">
                    <svg aria-hidden="true" focusable="false" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle></svg>
                </span>
                </button>
            </div>
        </div>
      </div>
    </div>
</sticky-atc>

{% javascript %}
  document.addEventListener('DOMContentLoaded', function() {
    const stickyRoot = document.querySelector('.sticky-atc');
    if (!stickyRoot) return;

    // Toggle sticky variant selector visibility
    const buttonToggleVariants = stickyRoot.querySelector('.button-toggle-variants');
    if (buttonToggleVariants) {
      buttonToggleVariants.addEventListener('click', function() {
        const isOpen = stickyRoot.classList.contains('show-select-variants');
        if (isOpen) {
          const addToCartButton = document.querySelector('.add-to-cart-button');
          addToCartButton?.click?.();
          setTimeout(() => {
            stickyRoot.classList.remove('show-select-variants');
          }, 500);
        } else {
          stickyRoot.classList.add('show-select-variants');
        }
      });
    }

    const stickyVariants = stickyRoot.querySelectorAll('.sticky-atc__variant [data-option-value-id]');
    stickyVariants.forEach((el) => {
      el.addEventListener('click', function() {
        const optionValueId = this.dataset.optionValueId;
        if (!optionValueId) return;
        const mainVariantInput = document.querySelector('product-info variant-selects [data-option-value-id="' + optionValueId + '"]');
        if (!mainVariantInput) return;

        if (mainVariantInput.type === 'radio') {
          mainVariantInput.checked = true;
        } else if (mainVariantInput.tagName === 'OPTION') {
          mainVariantInput.selected = true;
        }
        mainVariantInput.dispatchEvent(new Event('change', { bubbles: true }));
      });
    });
  });
{% endjavascript %}


{% stylesheet %}
  .sticky-atc {
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transform: translateY(100%);
    transition: opacity .3s ease, box-shadow .3s ease, transform .3s ease, visibility 0s linear .3s;
  }

  .sticky-cart-visible .sticky-atc {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
    transition-delay: 0s;
  }

  .sticky-atc.style-custom {
    max-width: var(--sticky-width);
    left: 50%;
    transform: translateX(-50%);
    bottom: var(--sticky-pos-bottom);
  }

  .sticky-atc__variant {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-color: #ffffff;
    transform: translateY(-100%);
    opacity: 0;
    pointer-events: none;
    transition: all 0.3s ease-in-out;
  }

  .sticky-atc.show-select-variants .sticky-atc__variant {
    opacity: 1;
    pointer-events: auto;
  }

  .sticky-atc .variant-selects {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
  }

  .sticky-atc .section {
    border-top: 1px solid #e5e5e5;
  }

  .sticky-atc .add-to-cart-text--add {
    display: none;
  }

  .sticky-atc.show-select-variants .add-to-cart-text--choose-options {
    display: none;
  }

  .sticky-atc.show-select-variants .add-to-cart-text--add {
    display: block;
  }

  @media screen and (min-width: 750px) {
    .sticky-atc .variant-selects .variant-option {
      max-width: fit-content;
    }

    .variant-alignment--left variant-selects {
      justify-content: flex-start;
    }

    .variant-alignment--right variant-selects {
      justify-content: flex-end;
    }

    .variant-alignment--center variant-selects {
      justify-content: center;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Sticky Add to Cart",
  "settings": [
    {
      "type": "header",
      "content": "t:content.appearance"
    },
    {
      "type": "select",
      "id": "style_class",
      "label": "t:settings.style",
      "options": [
        {
          "value": "default",
          "label": "t:options.default"
        },
        {
          "value": "custom",
          "label": "t:options.custom"
        }
      ],
      "default": "default"
    },
    {
      "type": "range",
      "id": "sticky_width",
      "label": "Sticky width",
      "min": 40,
      "max": 100,
      "step": 1,
      "unit": "%",
      "default": 80,
      "visible_if": "{{ block.settings.style_class == 'custom' }}"
    },
    {
      "type": "range",
      "id": "sticky_pos_bottom",
      "label": "Sticky position bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 0,
      "visible_if": "{{ block.settings.style_class == 'custom' }}"
    },
    {
      "type": "checkbox",
      "id": "inherit_color_scheme",
      "label": "t:settings.inherit_color_scheme",
      "default": true
    },
    {
      "type": "color",
      "id": "scheme_background",
      "label": "t:settings_schema.colors.settings.background.label",
      "default": "#FFFFFF",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color_background",
      "id": "scheme_background_gradient",
      "label": "t:content.background_gradient",
      "info": "t:info.background_gradient_info",
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_foreground_heading",
      "label": "t:settings.headings",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_foreground",
      "label": "t:settings.text",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_primary",
      "label": "t:settings.primary_color",
      "default": "#000F9F",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_primary_hover",
      "label": "t:settings.primary_hover_color",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_border",
      "label": "t:settings.borders",
      "default": "#E6E6E6",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_shadow",
      "label": "t:settings_schema.colors.settings.shadow.label",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "paragraph",
      "content": "t:names.primary_button",
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_primary_button_background",
      "label": "t:settings.background",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color_background",
      "id": "scheme_primary_button_background_gradient",
      "label": "t:content.background_gradient",
      "info": "t:info.background_gradient_info",
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_primary_button_text",
      "label": "t:settings.text",
      "default": "#FFFFFF",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_primary_button_border",
      "label": "t:settings.borders",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_primary_button_hover_background",
      "label": "t:settings.hover_background",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color_background",
      "id": "scheme_primary_button_hover_background_gradient",
      "label": "t:settings.hover_background_gradient",
      "info": "t:info.background_gradient_info",
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_primary_button_hover_text",
      "label": "t:settings.hover_text",
      "default": "#FFFFFF",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_primary_button_hover_border",
      "label": "t:settings.hover_borders",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "paragraph",
      "content": "t:names.secondary_button",
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_secondary_button_background",
      "label": "t:settings.background",
      "default": "#FFFFFF",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color_background",
      "id": "scheme_secondary_button_background_gradient",
      "label": "t:content.background_gradient",
      "info": "t:info.background_gradient_info",
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_secondary_button_text",
      "label": "t:settings.text",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_secondary_button_border",
      "label": "t:settings.borders",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_secondary_button_hover_background",
      "label": "t:settings.hover_background",
      "default": "#FFFFFF",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color_background",
      "id": "scheme_secondary_button_hover_background_gradient",
      "label": "t:settings.hover_background_gradient",
      "info": "t:info.background_gradient_info",
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_secondary_button_hover_text",
      "label": "t:settings.hover_text",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_secondary_button_hover_border",
      "label": "t:settings.hover_borders",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "paragraph",
      "content": "t:names.inputs",
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_input_background",
      "label": "t:settings.background",
      "default": "#FFFFFF",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_input_text_color",
      "label": "t:settings.text",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_input_border_color",
      "label": "t:settings.borders",
      "default": "#000000",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_input_hover_background",
      "label": "t:settings.hover_background",
      "default": "#F5F5F5",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "paragraph",
      "content": "Carousel",
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_arrow_color",
      "label": "t:settings.arrow_color",
      "default": "#333333",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_arrow_background",
      "label": "t:settings.arrow_background",
      "default": "#ffffff",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_arrow_border",
      "label": "t:settings.arrow_border",
      "default": "#333333",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_pagination_color",
      "label": "t:settings.pagination_color",
      "default": "#cecece",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "color",
      "id": "scheme_pagination_active_color",
      "label": "t:settings.pagination_active_color",
      "default": "#333333",
      "alpha": true,
      "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
    },
    {
      "type": "header",
      "content": "t:settings_schema.global.settings.header__shadow.content"
    },
    {
      "type": "color",
      "id": "shadow_color",
      "label": "t:settings.shadow_color",
      "default": "#00000000",
      "alpha": true
    },
    {
      "type": "range",
      "id": "shadow_horizontal_offset",
      "label": "t:settings.horizontal_offset",
      "min": -12,
      "max": 12,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "shadow_vertical_offset",
      "label": "t:settings.vertical_offset",
      "min": -12,
      "max": 12,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "shadow_blur",
      "label": "t:settings.blur",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "shadow_spread_radius",
      "label": "t:settings.spread_radius",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "select",
      "id": "button_type",
      "label": "t:settings.button_type",
      "options": [
        {
          "value": "text",
          "label": "t:options.text"
        },
        {
          "value": "icon",
          "label": "t:options.icon"
        }
      ],
      "default": "text"
    },
    {
      "type": "select",
      "id": "icon",
      "label": "t:options.icon",
      "options": [
        {
          "value": "none",
          "label": "t:options.none"
        },
        {
          "value": "bag",
          "label": "t:options.bag"
        }
      ],
      "default": "bag",
      "visible_if": "{{ block.settings.icon_custom == 'none' and block.settings.button_type == 'icon' }}"
    },
    {
      "type": "select",
      "id": "icon_custom",
      "label": "Custom icon",
      "options": [
        {
          "value": "none",
          "label": "t:options.none"
        },
        {
          "value": "svg",
          "label": "SVG"
        },
        {
          "value": "image",
          "label": "Image"
        }
      ],
      "default": "none"
    },
    {
      "type": "liquid",
      "id": "svg_upload",
      "label": "SVG icon",
      "info": "Go to this link [find your icon](https:\/\/fontawesome.com\/v5\/search). Find the icon you want, then copy the SVG code and paste it here.",
      "visible_if": "{{ block.settings.icon_custom == 'svg' and block.settings.button_type == 'icon' }}"
    },
    {
      "type": "image_picker",
      "id": "image_upload",
      "label": "t:settings.image_icon",
      "visible_if": "{{ block.settings.icon_custom == 'image' and block.settings.button_type == 'icon' }}"
    },
    {
      "type": "range",
      "id": "icon_width",
      "label": "Icon width",
      "min": 12,
      "max": 200,
      "step": 2,
      "unit": "px",
      "default": 50,
      "visible_if": "{{ block.settings.icon_custom != 'svg' and block.settings.icon != 'none' }}"
    },
    {
      "type": "select",
      "id": "type_preset",
      "label": "t:settings.preset",
      "options": [
        {
        "value": "rte",
        "label": "t:options.default"
        },
        {
        "value": "paragraph",
        "label": "t:options.paragraph"
        },
        {
        "value": "h1",
        "label": "t:options.h1"
        },
        {
        "value": "h2",
        "label": "t:options.h2"
        },
        {
        "value": "h3",
        "label": "t:options.h3"
        },
        {
        "value": "h4",
        "label": "t:options.h4"
        },
        {
        "value": "h5",
        "label": "t:options.h5"
        },
        {
        "value": "h6",
        "label": "t:options.h6"
        },
        {
        "value": "custom",
        "label": "t:options.custom"
        }
      ],
      "default": "rte",
      "info": "t:info.edit_presets_in_theme_settings"
    },
    {
      "type": "select",
      "id": "font",
      "label": "t:settings.font",
      "options": [
        {
          "value": "var(--font-body--family)",
          "label": "t:options.body"
        },
        {
          "value": "var(--font-subheading--family)",
          "label": "t:options.subheading"
        },
        {
          "value": "var(--font-heading--family)",
          "label": "t:options.heading"
        }
      ],
      "default": "var(--font-body--family)",
      "visible_if": "{{ block.settings.type_preset == 'custom' }}"
    },
    {
      "type": "select",
      "id": "font_size",
      "label": "t:settings.size",
      "options": [
        {
          "value": "",
          "label": "t:options.default"
        },
        {
          "value": "1.0rem",
          "label": "10px"
        },
        {
          "value": "1.2rem",
          "label": "12px"
        },
        {
          "value": "1.4rem",
          "label": "14px"
        },
        {
          "value": "1.6rem",
          "label": "16px"
        },
        {
          "value": "1.8rem",
          "label": "18px"
        },
        {
          "value": "2.0rem",
          "label": "20px"
        },
        {
          "value": "2.2rem",
          "label": "22px"
        },
        {
          "value": "2.4rem",
          "label": "24px"
        },
        {
          "value": "2.6rem",
          "label": "26px"
        },
        {
          "value": "2.8rem",
          "label": "28px"
        },
        {
          "value": "3.0rem",
          "label": "30px"
        },
        {
          "value": "3.2rem",
          "label": "32px"
        },
        {
          "value": "3.4rem",
          "label": "34px"
        },
        {
          "value": "3.6rem",
          "label": "36px"
        },
        {
          "value": "4.0rem",
          "label": "40px"
        },
        {
          "value": "5.0rem",
          "label": "50px"
        },
        {
          "value": "6.0rem",
          "label": "60px"
        },
        {
          "value": "7.0rem",
          "label": "70px"
        },
        {
          "value": "8.0rem",
          "label": "80px"
        },
        {
          "value": "9.0rem",
          "label": "90px"
        },
        {
          "value": "10.0rem",
          "label": "100px"
        },
        {
          "value": "12.0rem",
          "label": "120px"
        }
      ],
      "default": "1.6rem",
      "visible_if": "{{ block.settings.type_preset == 'custom' }}"
    },
    {
      "type": "select",
      "id": "line_height",
      "label": "t:settings.line_height",
      "options": [
        {
          "value": "tight",
          "label": "t:options.tight"
        },
        {
          "value": "normal",
          "label": "t:options.normal"
        },
        {
          "value": "loose",
          "label": "t:options.loose"
        }
      ],
      "default": "normal",
      "visible_if": "{{ block.settings.type_preset == 'custom' }}"
    },
    {
      "type": "select",
      "id": "letter_spacing",
      "label": "t:settings.letter_spacing",
      "options": [
        {
          "value": "tight",
          "label": "t:options.tight"
        },
        {
          "value": "normal",
          "label": "t:options.normal"
        },
        {
          "value": "loose",
          "label": "t:options.loose"
        }
      ],
      "default": "normal",
      "visible_if": "{{ block.settings.type_preset == 'custom' }}"
    },
    {
      "type": "select",
      "id": "case",
      "label": "t:settings.case",
      "options": [
        {
          "value": "none",
          "label": "t:options.default"
        },
        {
          "value": "uppercase",
          "label": "t:options.uppercase"
        },
        {
          "value": "capitalize",
          "label": "t:options.capitalize"
        }
      ],
      "default": "none",
      "visible_if": "{{ block.settings.type_preset == 'custom' }}"
    },
    {
      "type": "paragraph",
      "content": "t:content.resource_reference_product_variant_picker"
    },
    {
      "type": "paragraph",
      "content": "t:content.edit_variants_in_theme_settings"
    },
    {
      "type": "select",
      "id": "variant_style",
      "label": "t:settings.style",
      "options": [
          {
          "value": "dropdowns",
          "label": "t:options.dropdowns"
          },
          {
          "value": "pills",
          "label": "t:options.pills"
          }
      ],
      "default": "pills"
    },
    {
      "type": "checkbox",
      "id": "show_swatches",
      "label": "t:settings.swatches",
      "default": true,
      "visible_if": "{{ block.settings.variant_style == 'pills' }}"
    },
    {
      "type": "range",
      "id": "swatch_size",
      "min": 20,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:settings.swatch_size",
      "default": 38,
      "visible_if": "{{ block.settings.show_swatches == true }}"
    },
    {
      "type": "select",
      "id": "variant_alignment",
      "label": "Variant alignment",
      "options": [
        {
          "value": "left",
          "label": "t:options.left"
        },
        {
          "value": "center",
          "label": "t:options.center"
        },
        {
          "value": "right",
          "label": "t:options.right"
        }
      ],
      "default": "right"
    },
    {
      "type": "header",
      "content": "t:content.layout"
    },
    {
      "type": "range",
      "id": "content_gap",
      "label": "t:settings.gap",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "action_gap",
      "label": "t:settings.gap",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 24
    },
    {
      "type": "header",
      "content": "t:content.padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "t:settings.top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "t:settings.bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_left",
      "label": "t:settings.left",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_right",
      "label": "t:settings.right",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 0
    }
  ],
  "presets": [
    {
      "name": "Sticky Add to Cart"
    }
  ]
}
{% endschema %}