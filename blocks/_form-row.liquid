{% liquid
  assign columns_desktop = block.settings.columns_desktop
  assign columns_tablet = block.settings.columns_tablet
  assign mobile_columns = block.settings.mobile_columns
  assign gap = block.settings.gap

  assign pl = block.settings.padding_left
  assign pr = block.settings.padding_right
  assign pt = block.settings.padding_top
  assign pb = block.settings.padding_bottom
%}

{%- capture attr -%}
style="
{% if pl != 0 %}--pl:{{ pl }}px;{% endif %}
{% if pt != 0 %}--pt:{{ pt }}px;{% endif %}
{% if pb != 0 %}--pb:{{ pb }}px;{% endif %}
{% if pr != 0 %}--pr:{{ pr }}px;{% endif %}
"
{%- endcapture -%}

<div class="collection--grid-layout w-full block" {{ attr }}>
  <div
    id="Grid-{{ block.id }}"
    data-id="{{ block.id }}"
    class="grid grid-layout list-unstyled lg:grid-layout--{{ columns_desktop }} md:grid-layout--{{ columns_tablet }} max-sm:grid-layout--{{ mobile_columns }}"
    role="list"
    aria-label="{{ 'content.grid.name' | t }}"
    style="--grid-desktop-horizontal-spacing: {{ block.settings.gap }}px; --grid-desktop-vertical-spacing: {{ block.settings.gap }}px;"
  >
    {% content_for 'blocks' %}
  </div>
</div>

{% schema %}
{
  "name": "Form Row",
  "settings": [
      {
        "type":"header",
        "content": "t:content.layout"
      },
      {
        "type": "range",
        "id": "columns_desktop",
        "label": "t:settings.desktop_columns",
        "min": 1,
        "max": 4,
        "step": 1,
        "default": 2
      },
      {
        "type": "range",
        "id": "columns_tablet",
        "label": "t:settings.tablet_columns",
        "min": 1,
        "max": 4,
        "step": 1,
        "default": 2
      },
      {
        "type": "range",
        "id": "mobile_columns",
        "label": "t:settings.mobile_columns",
        "min": 1,
        "max": 4,
        "step": 1,
        "default": 1
      },
      {
        "type": "range",
        "id": "gap",
        "label": "Gap",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 12
      },
      {
      "type": "header",
      "content": "t:content.padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "t:settings.top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "t:settings.bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 22
    },
    {
      "type": "range",
      "id": "padding_left",
      "label": "t:settings.left",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_right",
      "label": "t:settings.right",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 0
    }
  ],
  "blocks": [
    {
        "type": "_input"
    }
  ],
  "presets": [
    {
      "name": "Form Row",
      "blocks": [
          {
              "type": "_input"
          },
          {
              "type": "_input"
          }
      ]
    }
  ]
}
{% endschema %}