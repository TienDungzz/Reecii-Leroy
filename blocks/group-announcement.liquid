{% comment %} [START block.markup] {% endcomment %}
<div
  class="group-block group-block--{{ block.id }} grid__item block{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
  style="--width-header-col: {{ block.settings.width_grid_item }}%;"
  {{ block.shopify_attributes }}
>
  {% if block.blocks.size > 0 %}
    <slideshow-component
      class="announcement-bar"
      role="region"
      aria-roledescription="{{ 'sections.announcements.carousel' | t }}"
      aria-label="{{ 'sections.announcements.announcement_bar' | t }}"
    >
      <div class="announcement-bar-slider slider-buttons">
        {% if block.blocks.size > 1 %}
          <button
            type="button"
            class="slider-button slider-button--prev"
            name="previous"
            aria-label="{{ 'sections.announcements.previous_announcement' | t }}"
            aria-controls="Slider-{{ block.id }}"
          >
            <span class="svg-wrapper">
              {{- 'icon-caret.svg' | inline_asset_content -}}
            </span>
          </button>
        {%- endif -%}
        <div
          class="grid grid--1-col slider slider--everywhere"
          id="Slider-{{ block.id }}"
          aria-live="polite"
          aria-atomic="true"
          data-autoplay="{{ block.settings.auto_rotate }}"
          data-speed="{{ block.settings.change_slides_speed }}"
        >
          {% content_for 'blocks' %}
        </div>
        {% if block.blocks.size > 1 %}
          <button
            type="button"
            class="slider-button slider-button--next"
            name="next"
            aria-label="{{ 'sections.announcements.next_announcement' | t }}"
            aria-controls="Slider-{{ block.id }}"
          >
            <span class="svg-wrapper">
              {{- 'icon-caret.svg' | inline_asset_content -}}
            </span>
          </button>
        {%- endif -%}
      </div>
    </slideshow-component>
    {%- if request.design_mode -%}
      <script src="{{ 'theme-editor.js' | asset_url }}" defer="defer"></script>
      <style>
        /* theme editor power preview fix */
        .announcement-bar-slider .slider__slide[aria-hidden='true'] {
          visibility: hidden;
        }
      </style>
    {%- endif -%}
  {%- endif -%}
</div>
{% comment %} [END block.markup] {% endcomment %}

{% comment %} [START block.preset] {% endcomment %}
{% schema %}
{
  "name": "Group: Announcement",
  "tag": null,
  "blocks": [
    { "type": "@app" },
    { "type": "announcement-text" }
  ],
  "settings": [
    {
      "type": "range",
      "id": "width_grid_item",
      "min": 15,
      "max": 100,
      "step": 1,
      "unit": "%",
      "label": "t:sections.header.settings.grid_item.label__1",
      "info": "t:sections.header.settings.grid_item.info",
      "default": 25
    },
    {
      "type": "header",
      "content": "t:sections.announcement-bar.settings.header__2.content"
    },
    {
      "type": "checkbox",
      "id": "auto_rotate",
      "label": "t:sections.announcement-bar.settings.auto_rotate.label",
      "default": false
    },
    {
      "type": "range",
      "id": "change_slides_speed",
      "min": 3,
      "max": 10,
      "step": 1,
      "unit": "s",
      "label": "t:sections.announcement-bar.settings.change_slides_speed.label",
      "default": 5
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-4"
    }
  ],
  "presets": [
    {
      "name": "Group: Announcement",
      "settings": {
        "color_scheme": "scheme-1",
        "width_grid_item": 33
      },
      "blocks": [
        {
          "type": "announcement-text",
          "settings": {
            "text": "Welcome to our store"
          }
        },
        {
          "type": "announcement-text",
          "settings": {
            "text": "Welcome to our store"
          }
        },
        {
          "type": "announcement-text",
          "settings": {
            "text": "Welcome to our store"
          }
        }
      ]
    }
  ]
}
{% endschema %}
{% comment %} [END block.preset {% endcomment %}