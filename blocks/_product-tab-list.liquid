{% capture list_items %}
  {% for child_block in block.blocks %}
      <div class="test1212121-{{ forloop.index }}">
          {% render child_block, tab_index: 99 %}
      </div>
  {% endfor %}
{% endcapture %}

<div
class="
  group-block relative
  group-block--height-{{ block.settings.height }}
  group-block--width-{{ block.settings.width }}
  spacing-style
  size-style
  {% if block.settings.inherit_color_scheme == false %}color-{{ block.settings.color_scheme }}{% endif %}
  layout-panel-flex
  layout-panel-flex--column
"

{% if request.visual_preview_mode %}
  data-shopify-visual-preview
{% endif %}

style="
  {% render 'layout-panel-style', settings: block.settings %}
  {% render 'spacing-style', settings: block.settings %}
  {% render 'size-style', settings: block.settings %}
  {% if block.settings.width == 'custom' %}
    --size-style-width: {{ block.settings.custom_width }}%;
    --size-style-width-mobile: 100%;
  {% endif %}
  {% render 'spacing-style', settings: block.settings %}
  {% render 'border-override', settings: block.settings %}
"
data-testid="media-gallery-content"
{{ block.shopify_attributes }}
>
<div class="group-block__media-wrapper{% if block.settings.background_image == blank %} media--empty{% endif %}{% if block.settings.background_media == 'none' %} none{% endif %}">
  {% render 'background-media',
    background_media: block.settings.background_media,
    background_video: block.settings.video,
    background_video_position: block.settings.video_position,
    background_image: block.settings.background_image,
    background_image_position: block.settings.background_image_position,
    placeholder: block.settings.placeholder
  %}
</div>
{% if block.settings.toggle_overlay %}
  {% render 'overlay', settings: block.settings, layer: '0' %}
{% endif %}

<div class="product-tab-list flex relative 
  spacing-style
  layout-panel-flex
  layout-panel-flex--{{ block.settings.content_direction }}
  mobile-{{ block.settings.content_direction_mobile | default: 'column' }}
  section-content-wrapper
">
  {{- list_items -}}
</div>
</div>

{% schema %}
{
  "name": "Product Tab List",
  "blocks": [
      {
          "type": "@theme"
      },
      {
          "type": "_product-tab-item"
      }
  ],
  "settings": [
      {
          "type": "header",
          "content": "t:content.layout"
      },
      {
          "type": "select",
          "id": "content_direction",
          "label": "t:settings.direction",
          "options": [
              {
              "value": "column",
              "label": "t:options.vertical"
              },
              {
              "value": "row",
              "label": "t:options.horizontal"
              }
          ],
          "default": "column"
      },
      {
          "type": "select",
          "id": "content_direction_mobile",
          "label": "Direction on mobile",
          "options": [
              {
              "value": "column",
              "label": "t:options.vertical"
              },
              {
              "value": "row",
              "label": "t:options.horizontal"
              }
          ],
          "default": "column"
      },
      {
          "type": "select",
          "id": "horizontal_alignment",
          "label": "t:settings.alignment",
          "options": [
              {
              "value": "flex-start",
              "label": "t:options.left"
              },
              {
              "value": "center",
              "label": "t:options.center"
              },
              {
              "value": "flex-end",
              "label": "t:options.right"
              },
              {
              "value": "space-between",
              "label": "t:options.space_between"
              }
          ],
          "default": "flex-start",
          "visible_if": "{{ block.settings.content_direction == 'row' }}"
      },
      {
          "type": "select",
          "id": "vertical_alignment",
          "label": "t:settings.position",
          "options": [
              {
              "value": "flex-start",
              "label": "t:options.top"
              },
              {
              "value": "center",
              "label": "t:options.center"
              },
              {
              "value": "flex-end",
              "label": "t:options.bottom"
              }
          ],
          "default": "center",
          "visible_if": "{{ block.settings.content_direction == 'row' }}"
      },
      {
          "type": "checkbox",
          "id": "align_baseline",
          "label": "t:settings.align_baseline",
          "default": false,
          "visible_if": "{{ block.settings.vertical_alignment == 'flex-end' }}"
      },
      {
          "type": "select",
          "id": "horizontal_alignment_flex_direction_column",
          "label": "t:settings.alignment",
          "options": [
              {
              "value": "flex-start",
              "label": "t:options.left"
              },
              {
              "value": "center",
              "label": "t:options.center"
              },
              {
              "value": "flex-end",
              "label": "t:options.right"
              }
          ],
          "default": "flex-start",
          "visible_if": "{{ block.settings.content_direction != 'row' }}"
          },
          {
          "type": "select",
          "id": "vertical_alignment_flex_direction_column",
          "label": "t:settings.position",
          "options": [
              {
              "value": "flex-start",
              "label": "t:options.top"
              },
              {
              "value": "center",
              "label": "t:options.center"
              },
              {
              "value": "flex-end",
              "label": "t:options.bottom"
              },
              {
              "value": "space-between",
              "label": "t:options.space_between"
              }
          ],
          "default": "center",
          "visible_if": "{{ block.settings.content_direction == 'column' }}"
      },
      {
          "type": "range",
          "id": "gap",
          "label": "t:settings.gap",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "px",
          "default": 12
      },
      {
          "type": "header",
          "content": "t:content.size"
      },
      {
          "type": "select",
          "id": "width",
          "label": "Width",
          "options": [
              {
                  "value": "fit",
                  "label": "Fit"
              },
              {
                  "value": "full",
                  "label": "Full width"
              },
              {
                  "value": "custom",
                  "label": "Custom"
              }
          ],
          "default": "fit"
      },
      {
          "type": "range",
          "id": "custom_width",
          "label": "Custom (%)",
          "min": 1,
          "max": 100,
          "step": 1,
          "unit": "%",
          "default": 100,
          "visible_if": "{{ block.settings.width == 'custom' }}"
      },
      {
          "type": "select",
          "id": "height",
          "label": "t:settings.height",
          "options": [
              {
              "value": "fit",
              "label": "t:options.fit_content"
              },
              {
              "value": "fill",
              "label": "t:options.fill"
              },
              {
              "value": "custom",
              "label": "t:options.custom"
              }
          ],
          "default": "fit"
      },
      {
          "type": "range",
          "id": "custom_height",
          "label": "t:settings.custom_height",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%",
          "default": 100,
          "visible_if": "{{ block.settings.height == 'custom' }}"
      },
      {
          "type": "header",
          "content": "t:content.appearance"
      },
      {
          "type": "checkbox",
          "id": "inherit_color_scheme",
          "label": "t:settings.inherit_color_scheme",
          "default": true
      },
      {
          "type": "color_scheme",
          "id": "color_scheme",
          "label": "t:settings.color_scheme",
          "default": "scheme-1",
          "visible_if": "{{ block.settings.inherit_color_scheme == false }}"
      },
      {
          "type": "select",
          "id": "background_media",
          "label": "t:settings.background_media",
          "options": [
              {
              "value": "none",
              "label": "t:options.none"
              },
              {
              "value": "image",
              "label": "t:options.image"
              },
              {
              "value": "video",
              "label": "t:options.video"
              }
          ],
          "default": "none"
      },
      {
          "type": "video",
          "id": "video",
          "label": "t:settings.video",
          "visible_if": "{{ block.settings.background_media == 'video' }}"
      },
      {
          "type": "select",
          "id": "video_position",
          "label": "t:settings.video_position",
          "options": [
              {
              "value": "cover",
              "label": "t:options.cover"
              },
              {
              "value": "contain",
              "label": "t:options.contain"
              }
          ],
          "default": "cover",
          "visible_if": "{{ block.settings.background_media == 'video' }}"
      },
      {
          "type": "image_picker",
          "id": "background_image",
          "label": "t:settings.image",
          "visible_if": "{{ block.settings.background_media == 'image' }}"
      },
      {
          "type": "select",
          "id": "background_image_position",
          "label": "t:settings.image_position",
          "options": [
              {
              "value": "cover",
              "label": "t:options.cover"
              },
              {
              "value": "fit",
              "label": "t:options.fit"
              }
          ],
          "default": "cover",
          "visible_if": "{{ block.settings.background_media == 'image' }}"
      },
      {
          "type": "checkbox",
          "id": "toggle_overlay",
          "label": "t:settings.media_overlay"
      },
      {
          "type": "color",
          "id": "overlay_color",
          "label": "t:settings.overlay_color",
          "alpha": true,
          "default": "#00000026",
          "visible_if": "{{ block.settings.toggle_overlay }}"
      },
      {
          "type": "select",
          "id": "overlay_style",
          "label": "t:settings.overlay_style",
          "options": [
              {
              "value": "solid",
              "label": "t:options.solid"
              },
              {
              "value": "gradient",
              "label": "t:options.gradient"
              }
          ],
          "default": "solid",
          "visible_if": "{{ block.settings.toggle_overlay }}"
      },
      {
          "type": "select",
          "id": "gradient_direction",
          "label": "t:settings.gradient_direction",
          "options": [
              {
              "value": "to top",
              "label": "t:options.up"
              },
              {
              "value": "to bottom",
              "label": "t:options.down"
              }
          ],
          "default": "to top",
          "visible_if": "{{ block.settings.toggle_overlay and block.settings.overlay_style == 'gradient' }}"
      },
      {
          "type": "header",
          "content": "t:content.padding"
      },
      {
          "type": "range",
          "id": "padding-block-start",
          "label": "t:settings.top",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "px",
          "default": 0
      },
      {
          "type": "range",
          "id": "padding-block-end",
          "label": "t:settings.bottom",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "px",
          "default": 0
      },
      {
          "type": "range",
          "id": "padding-inline-start",
          "label": "t:settings.left",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "px",
          "default": 0
      },
      {
          "type": "range",
          "id": "padding-inline-end",
          "label": "t:settings.right",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "px",
          "default": 0
      }
  ],
  "presets": [
      {
          "name": "Product Tab List"
      }
  ]
}
{% endschema %}