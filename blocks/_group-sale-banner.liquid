{% comment %} [START nesting.block_render] {% endcomment %}
<div
  class="{{ block.settings | class_list }} group-block group-block--{{ block.id }}countdown_timer color-{{block.settings.color_scheme}} bg-transparent{% if block.settings.image %} background-image{% endif %}" style="background-image: url({{ block.settings.image | image_url: width: 2048 }});; --pl:{{ block.settings.padding_left }}px; --pr:{{ block.settings.padding_right }}px; --pt:{{ block.settings.padding_top }}px; --pb:{{ block.settings.padding_bottom }}px;"
  {{ block.shopify_attributes }}
>
  <div class="countdown-text-wrapper flex items-center justify-center" style="--gap: 1rem;--mb: 2rem;">
    <span class="countdown__text inline-richtext typography-font-body font-normal">{{ block.settings.message }}</span>
  </div>
  <count-down class="block" data-countdown="{{ block.settings.countdown }}" data-type="sale-banner" data-hide="{{block.settings.hide_countdown_expired}}">
    <div class="countdown countdown-border-gradient flex items-center justify-center relative overflow-hidden">
      <span class="countdown-item inline-block v-a-top center"><span class="flex flex-column items-center justify-center countdown-digit typography-font-body font-semibold relative">0<span class="block body-sm">Days</span></span></span>
      <span class="countdown-item inline-block v-a-top center w-auto"><span class="flex flex-column items-center justify-center countdown-digit typography-font-body font-semibold relative">0<span class="block body-sm">Hours</span></span></span>
      <span class="countdown-item inline-block v-a-top center w-auto"><span class="flex flex-column items-center justify-center countdown-digit typography-font-body font-semibold relative">0<span class="block body-sm">Mins</span></span></span>
      <span class="countdown-item inline-block v-a-top center w-auto"><span class="flex flex-column items-center justify-center countdown-digit typography-font-body font-semibold relative">0<span class="block body-sm">secs</span></span></span>
    </div>
    <div class="countdown-expired hidden body-lg inline-richtext" style="--m-t-a: 2rem;">{{ block.settings.expired_message }}</div>
  </count-down>
</div>
{% comment %} [END nesting.block_render] {% endcomment %}

{% comment %} [START nesting.block_schema] {% endcomment %}
{% schema %}
{
  "name": "t:sections.announcement-bar.blocks.sale-banner.name",
  "settings": [
    {
      "type": "header",
      "content": "Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 10,
      "label": "t:settings_schema.global.settings.spacing.spacing_top.label"
    },
    {
      "type": "range",
      "id": "padding_right",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 10,
      "label": "t:settings_schema.global.settings.spacing.spacing_right.label"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 10,
      "label": "t:settings_schema.global.settings.spacing.spacing_left.label"
    },
    {
      "type": "range",
      "id": "padding_left",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 10,
      "label": "t:settings_schema.global.settings.spacing.spacing_left.label"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.announcement-bar.blocks.sale-banner.settings.image.label"
    },
    {
      "type": "inline_richtext",
      "id": "message",
      "label": "t:sections.announcement-bar.blocks.sale-banner.settings.countdown.label",
      "default": "Limited-time Offer!"
    },
    {
      "type": "inline_richtext",
      "id": "expired_message",
      "label": "t:sections.announcement-bar.blocks.sale-banner.settings.countdown.expired_message",
      "default": "Limited-time Offer!"
    },
    {
      "type": "checkbox",
      "id": "hide_countdown_expired",
      "default": false,
      "label": "t:sections.announcement-bar.blocks.sale-banner.settings.countdown.hide_countdown_expired"
    },
    {
      "type" : "text",
      "id" : "countdown",
      "label" : "t:sections.announcement-bar.blocks.sale-banner.settings.countdown.end_date",
      "default" : "12/31/2025 11:59:00",
      "info": "t:sections.announcement-bar.blocks.sale-banner.settings.countdown.info"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    }
  ],
  "presets": [
    {
      "name": "t:sections.announcement-bar.blocks.sale-banner.name",
      "category": "t:categories.header",
      "settings": {
        "color_scheme": "scheme-3"
      }
    }
  ]
}
{% endschema %}
{% comment %} [END nesting.block_schema] {% endcomment %}