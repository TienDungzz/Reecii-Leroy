{%- liquid
  assign search_type = settings.search_type
-%}

{%- capture grid_layout -%}
  predictive-search-results__list
  predictive-search-results__wrapper-products
  grid-layout
  {% if search_type == 'full' %}
    grid-layout--3 max-sm:grid-layout--2
    gap-2xl
  {% elsif search_type == 'drawer' %}
    grid-layout--2
    gap-xl
  {% else %}
    predictive-search-results__list-inline
    grid-layout--2
    gap-md
  {% endif %}
  list-unstyled
{%- endcapture -%}

<h6 class="predictive-search__heading body-m-font-size">
  {{ title }}
</h6>
<div
  id="predictive-search-products"
  class="predictive-search-results__products"
  {% if products_test_id %}
    data-testid="{{ products_test_id }}"
  {% endif %}
>
  <ul
    class="{{ grid_layout }}"
    role="listbox"
    aria-label="{{ title }}"
  >
    {% liquid
      assign limit = limit | default: 8
    %}
    {% for product in products limit: limit %}
      <li class="predictive-search-results__card predictive-search-results__card--product">
        {% render 'resource-card',
          resource_type: 'product',
          resource: product,
          image_width: 500,
          image_hover: true,
          image_aspect_ratio: '4 / 5'
        %}
      </li>
    {% endfor %}
  </ul>
</div>

{% stylesheet %}
  .predictive-search-results__wrapper-products {

    @media screen and (max-width: 749px) {
      gap: var(--gap-xs);
    }
  }
{% endstylesheet %}
