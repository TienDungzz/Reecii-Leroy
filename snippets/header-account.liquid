{%- liquid
  assign account_type = section.settings.account_type
-%}
{%- if enable_account and shop.customer_accounts_enabled -%}
  <a
    href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}"
    class="
      button focus-inset account-actions svg-slide-up
      header__icon
      header__icon--account
      header__icon--{{ account_type }}
    "
    arial-label="{%- if customer -%}{{ 'customer.account_fallback' | t }}{%- else -%}{{ 'customer.log_in' | t }}{%- endif -%}"
  >
    {%- if account_type == 'text' or account_type == 'both' -%}
      <span class="lg:none">
    {%- endif -%}
    {%- if section.settings.enable_customer_avatar -%}
      <account-icon>
        {%- if customer and customer.has_avatar? -%}
          {{ customer | avatar }}
        {%- else -%}
          <span class="svg-wrapper">
            {{- 'icon-account.svg' | inline_asset_content -}}
            {{- 'icon-account.svg' | inline_asset_content -}}
          </span>
        {%- endif -%}
      </account-icon>
    {%- else -%}
      <span class="svg-wrapper">
        {{- 'icon-account.svg' | inline_asset_content -}}
        {{- 'icon-account.svg' | inline_asset_content -}}
      </span>
    {%- endif -%}
    {%- if account_type == 'text' or account_type == 'both' -%}
      </span>
    {%- endif -%}

    {%- if account_type == 'text' or account_type == 'both' -%}
      <span class="text max-md:hidden">
        {%- liquid
          if customer
            echo 'customer.account_fallback' | t
          else
            echo 'customer.log_in' | t
          endif
        -%}
      </span>
    {%- endif -%}
  </a>
{%- endif -%}

{%- stylesheet -%}
  .header__icon--account.header__icon--account--text {
    height: initial;
    width: initial;
  }
{%- endstylesheet -%}
