<script src="{{ 'constants.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'pubsub.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'vendor.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'media.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'accordion.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'click-outside-details.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'global.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'tab.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'text-animation.js' | asset_url }}" defer="defer"></script>

{%- if settings.animations_reveal_on_scroll -%}
  <script src="{{ 'animations.js' | asset_url }}" defer="defer"></script>
{%- endif -%}

{%- if settings.show_calculator_free_shipping_message -%}
    <script src="{{ 'free-shipping-message.js' | asset_url }}" defer="defer"></script>
{% endif %}

{%- if settings.show_cart_quick_edit -%}
  <script src="{{ 'edit-cart.js' | asset_url }}" defer="defer"></script>
{% endif %}

<script>
    window.shopUrl = '{{ request.origin }}';
    window.routes = {
        root: '{{  routes.cart_url | split: "/cart" | first }}',
        cart_add_url: '{{ routes.cart_add_url }}',
        cart_change_url: '{{ routes.cart_change_url }}',
        cart_update_url: '{{ routes.cart_update_url }}',
        cart_url: '{{ routes.cart_url }}',
        predictive_search_url: '{{ routes.predictive_search_url }}',
    };

    window.inventory_text = {
        warningQuantity: `{{ 'products.product.quantity.warning_quantity' | t : inventory: '[inventory]' }}`,
    };

    window.button_load_more = {
        default: `{{ 'sections.collection_template.show_more' | t }}`,
        loading: `{{ 'sections.collection_template.loading' | t }}`,
        view_all: `{{ 'sections.collection_template.view_all' | t }}`,
        no_more: `{{ 'sections.collection_template.no_more' | t }}`,
        no_more_collection: `{{ 'sections.collection_template.no_more_collection' | t }}`
    };

    window.cartStrings = {
        error: `{{ 'sections.cart.cart_error' | t }}`,
        quantityError: `{{ 'sections.cart.cart_quantity_error_html' | t: quantity: '[quantity]' }}`,
    };

    window.variantStrings = {
        addToCart: `{{ 'products.product.add_to_cart' | t }}`,
        soldOut: `{{ 'products.product.sold_out' | t }}`,
        preOrder: `{{ 'products.product.pre_order' | t }}`,
        unavailable: `{{ 'products.product.unavailable' | t }}`,
        unavailable_with_option: `{{ 'products.product.value_unavailable' | t: option_value: '[value]' }}`,
    };

    window.quickOrderListStrings = {
        itemsAdded: `{{ 'sections.quick_order_list.items_added.other' | t: quantity: '[quantity]' }}`,
        itemAdded: `{{ 'sections.quick_order_list.items_added.one' | t: quantity: '[quantity]' }}`,
        itemsRemoved: `{{ 'sections.quick_order_list.items_removed.other' | t: quantity: '[quantity]' }}`,
        itemRemoved: `{{ 'sections.quick_order_list.items_removed.one' | t: quantity: '[quantity]' }}`,
        viewCart: `{{- 'sections.quick_order_list.view_cart' | t -}}`,
        each: `{{- 'sections.quick_order_list.each' | t: money: '[money]' }}`,
        min_error: `{{- 'sections.quick_order_list.min_error' | t: min: '[min]' }}`,
        max_error: `{{- 'sections.quick_order_list.max_error' | t: max: '[max]' }}`,
        step_error: `{{- 'sections.quick_order_list.step_error' | t: step: '[step]' }}`,
    };

    window.accessibilityStrings = {
        imageAvailable: `{{ 'products.product.media.image_available' | t: index: '[index]' }}`,
        shareSuccess: `{{ 'general.share.success_message' | t }}`,
        pauseSlideshow: `{{ 'sections.slideshow.pause_slideshow' | t }}`,
        playSlideshow: `{{ 'sections.slideshow.play_slideshow' | t }}`,
        recipientFormExpanded: `{{ 'recipient.form.expanded' | t }}`,
        recipientFormCollapsed: `{{ 'recipient.form.collapsed' | t }}`,
        countrySelectorSearchCount: `{{ 'localization.country_results_count' | t: count: '[count]' }}`,
    };

    window.countdown = {
        day: `{{ 'countdown.general.day' | t }}`,
        hour: `{{ 'countdown.general.hour' | t }}`,
        min: `{{ 'countdown.general.min' | t }}`,
        sec: `{{ 'countdown.general.sec' | t }}`,
        days: `{{ 'countdown.general.days' | t }}`,
        hours: `{{ 'countdown.general.hours' | t }}`,
        mins: `{{ 'countdown.general.mins' | t }}`,
        secs: `{{ 'countdown.general.secs' | t }}`,
        d: `{{ 'countdown.general.d' | t }}`,
        h: `{{ 'countdown.general.h' | t }}`,
        m: `{{ 'countdown.general.m' | t }}`,
        s: `{{ 'countdown.general.s' | t }}`
    };

    {% if settings.show_calculator_free_shipping_message %}
        {% if settings.calculator_free_shipping_message_price != blank %}
            window.free_shipping_price = {{ settings.calculator_free_shipping_message_price }};
        {% else %}
            window.free_shipping_price = 0;
        {% endif %}
        window.free_shipping_text = {
            free_shipping_message: `{{ 'calculator_free_shipping_message.general.free_shipping_message' | t }}`,
            free_shipping_message_1: `{{ 'calculator_free_shipping_message.general.free_shipping_message_1' | t }}`,
            free_shipping_message_2:`{{ 'calculator_free_shipping_message.general.free_shipping_message_2' | t }}`,
            free_shipping_message_3: `{{ 'calculator_free_shipping_message.general.free_shipping_message_3' | t }}`,
            free_shipping_message_4: `{{ 'calculator_free_shipping_message.general.free_shipping_message_4' | t }}`,
            free_shipping_1: `{{ 'calculator_free_shipping_message.general.free_shipping_1' | t }}`,
            free_shipping_2: `{{ 'calculator_free_shipping_message.general.free_shipping_2' | t }}`
        };
    {% endif %}

    window.wishlist = {
        add: `{{ 'wishlist.general.add' | t }}`,
        added: `{{ 'wishlist.general.added' | t }}`,
        empty: `{{ 'wishlist.general.empty' | t }}`,
        continue_shopping: `{{ 'wishlist.general.continue_shopping' | t }}`
    };

    window.compare = {
        show: {{ settings.enable_compare }},
        add: `{{ 'compare.general.add' | t }}`,
        added: `{{ 'compare.general.added' | t }}`,
        message: `{{ 'compare.general.message' | t }}`
    };

    document.documentElement.className = document.documentElement.className.replace('no-js', 'js');

    if (Shopify.designMode) {
        document.documentElement.classList.add('shopify-design-mode');
    }

    var ThemeDefer = [];
    document.addEventListener('DOMContentLoaded', () => {
        while (ThemeDefer.length) ThemeDefer.shift().call();
    });

    {% if settings.currency_format_enable %}
        window.money_format = '{{ shop.money_with_currency_format }}';
    {% else %}
        window.money_format = '{{ shop.money_format }}';
    {% endif %}
</script>
