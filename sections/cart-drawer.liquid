{%- if request.page_type != 'cart' and settings.cart_type == 'drawer' -%}
  {{ 'quantity-popover.css' | asset_url | stylesheet_tag: preload: true }}

  {{ 'component-cart-drawer.css' | asset_url | stylesheet_tag: preload: true }}
  {{ 'component-cart.css' | asset_url | stylesheet_tag: preload: true }}
  {{ 'component-totals.css' | asset_url | stylesheet_tag: preload: true }}
  {{ 'component-discounts.css' | asset_url | stylesheet_tag: preload: true }}

  {%- render 'cart-drawer' -%}

  {% comment %} {%- liquid
    assign files = 'cart.js, quantity-popover.js, cart-drawer.js'

    assign files = files | split: ', '
    render 'theme-loader', files: files
  -%} {% endcomment %}

  <script src="{{ 'cart.js' | asset_url }}" defer="defer"></script>
  <script src="{{ 'quantity-popover.js' | asset_url }}" defer="defer"></script>
  <script src="{{ 'cart-drawer.js' | asset_url }}" defer="defer"></script>

{%- endif -%}

{% schema %}
  {
    "name": "t:names.cart_drawer",
    "tag": "section",
    "class": "section-cart-drawer",
    "enabled_on": {
      "groups": ["custom.popup"]
    },
    "settings": [
      {
        "type": "paragraph",
        "content": "t:info.cart_drawer_info"
      },
      {
        "type": "collection",
        "id": "cart_drawer_collection",
        "label": "t:settings.collection",
        "info": "t:info.cart_drawer_empty_info"
      },
      {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:settings.color_scheme",
        "default": "scheme-1"
      }
    ]
  }
{% endschema %}